<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Paneli - Valorant Finder</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background-color: #0f1923;
  color: #fff;
}
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 50px;
  background-color: #1a2733;
}
header .logo { font-size: 1.5rem; font-weight: 600; color: #ff4655; }
button { padding: 8px 12px; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; margin: 2px; }
.delete-btn { background-color: #ff4655; color: #fff; }
.clear-btn { background-color: #5865f2; color: #fff; }
table { width: calc(100% - 100px); margin: 20px 50px; border-collapse: collapse; background-color: #1a2733; border-radius: 12px; overflow: hidden; }
table th, table td { padding: 12px 15px; text-align: left; }
table th { background-color: #ff4655; font-weight: 600; }
table tr:nth-child(even) { background-color: #18222e; }
table tr:hover { background-color: #233446; }
</style>
</head>
<body>

<header>
  <div class="logo">Admin Paneli</div>
  <button class="clear-btn" onclick="clearAll()">Tüm Listeyi Temizle</button>
</header>

<table id="adminTable">
  <thead>
    <tr>
      <th>Lobi Kodu</th>
      <th>Oyun Modu</th>
      <th>Minimum Rank</th>
      <th>Maksimum Rank</th>
      <th>Oyuncu Sayısı</th>
      <th>Yaş Aralığı</th>
      <th>İşlem</th>
    </tr>
  </thead>
  <tbody>
    <!-- Oyuncular buraya yüklenecek -->
  </tbody>
</table>

<script>
// Sayfa yüklendiğinde localStorage'dan oyuncuları getir
window.onload = function() {
    loadPlayers();
}

function loadPlayers() {
    const tbody = document.querySelector("#adminTable tbody");
    tbody.innerHTML = ""; // Temizle
    const savedPlayers = JSON.parse(localStorage.getItem("players")) || [];
    savedPlayers.forEach((player, index) => {
        const row = document.createElement("tr");
        row.innerHTML = `
            <td>${player.lobbyCode}</td>
            <td>${player.gameMode}</td>
            <td>${player.minRank}</td>
            <td>${player.maxRank}</td>
            <td>${player.playerCount}</td>
            <td>${player.ageRange}</td>
            <td>
                <button class="delete-btn" onclick="deletePlayer(${index})">Sil</button>
            </td>
        `;
        tbody.appendChild(row);
    });
}

function deletePlayer(index) {
    const savedPlayers = JSON.parse(localStorage.getItem("players")) || [];
    savedPlayers.splice(index, 1); // İlgili oyuncuyu sil
    localStorage.setItem("players", JSON.stringify(savedPlayers));
    loadPlayers(); // Tabloyu güncelle
}

function clearAll() {
    if(confirm("Tüm oyuncu listesini silmek istediğinize emin misiniz?")) {
        localStorage.removeItem("players");
        loadPlayers();
    }
}
</script>

</body>
</html>
